<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TAB</title>
    <link rel="stylesheet" href="AllDemoCss/demo-login.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">
</head>
<body>
    <header class="userheader">
        <div class="nav-user">
            <a class="user-head" href="#">
                <i class="fas fa-user"></i>
            </a>
        </div>
    </header>
    <main class="usermain active">
        <div class="register change">
            <div class="tab">
                <a class="register-head aistrue">注册</a>
                <a class="login-head">登陆</a>
                <i class="fas fa-times diy-pos"></i>
            </div>
            <form action="#" method="get">
                <div class="input-area"><label for="uname"><i class="far fa-user-circle"></i></label><input id="uname" type="text" name="rusername"></div>
                <div class="input-area"><label for="rpass"><i class="fas fa-unlock-alt"></i></label><input id="rpass" type="password" name="rpassword"></div>
                <div class="input-area"><label for="re-rpass"><i class="fas fa-unlock"></i></label><input id="re-rpass" type="password" name="re-rpassword"></div>
            </form>
            <div class="btn-sr"><button type="submit">注册</button></div>
        </div>
        <div class="login">
            <div class="tab">
                <a class="register-head">注册</a>
                <a class="login-head aistrue">登陆</a>
                <i class="fas fa-times diy-pos"></i>
            </div>
            <form action="#" method="get">
                <div class="input-area"><label for="user"><i class="far fa-user-circle"></i></label><input id="user" type="text" name="ruser" placeholder="用户名"></div>
                <div class="input-area"><label for="rpass"><i class="fas fa-unlock-alt"></i></label><input id="rpass" type="password" name="rpassword" placeholder="密码"></div>
            </form>
            <div class="btn-sr"><button type="submit">登陆</button></div>
        </div>
    </main>
    <script>
        var usernav = document.querySelector(".user-head");
        var regpanel = document.querySelector(".register");
        var logpanel = document.querySelector(".login");
        var usermain = document.querySelector(".usermain");
        var donghua = function(d){
            var enddeg = 180;
            var startdeg = 0;
            var step = 2;
            function deg(){
                if(startdeg < enddeg){
                    e.style.deg = getComputedStyle(d).transform + step + "deg";
                    startdeg += step;
                    requestAnimationFrame(deg)
                }
            }
        } 
        usernav.addEventListener("click",function(e){
            e.preventDefault;
            usermain.classList.remove("active")
        });
        usermain.addEventListener("click",function(){
            usermain.classList.add("active")
        });
        logpanel.addEventListener("click",function(e){
            e.stopPropagation();   
            var targets = e.target;
            if(targets.className === "register-head"){
                donghua("register-head");
                logpanel.classList.add("change")
                regpanel.classList.remove("change")
            }
        });
        regpanel.addEventListener("click",function(e){
            e.stopPropagation();
            var targets = e.target;
            if(targets.className === "login-head"){
                console.log(e)
                donghua("login-head");
                logpanel.classList.remove("change")
                regpanel.classList.add("change")
            }
        });   
    </script>
</body>
</html>